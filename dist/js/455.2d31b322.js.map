{"version":3,"file":"js/455.2d31b322.js","mappings":"2KACSA,MAAM,c,GACFA,MAAM,a,WAiC4D,M,gJAlC3EC,EAAAA,EAAAA,IAsCM,MAtCN,EAsCM,EArCFC,EAAAA,EAAAA,GAoCM,MApCN,EAoCM,EAnCFC,EAAAA,EAAAA,IAkCUC,EAAA,CAjCNC,IAAI,UACHC,MAAOC,EAAAA,UACR,cAAY,QACZP,MAAM,gBAJV,C,kBAMI,IAYe,EAZfG,EAAAA,EAAAA,IAYeK,EAAA,CAXXC,KAAK,WACLC,MAAM,MACLC,MAAK,E,qCAAiKJ,EAAAA,QAH3K,C,kBAWI,IAAwC,EAAxCJ,EAAAA,EAAAA,IAAwCS,EAAA,C,WAArBL,EAAAA,UAAUM,S,qCAAVN,EAAAA,UAAUM,SAAQC,IAArC,0B,KAXJ,cAaAX,EAAAA,EAAAA,IAYeK,EAAA,CAXXC,KAAK,WACLC,MAAM,KACLC,MAAO,CAAC,C,+CAHb,C,kBAWI,IAA8E,EAA9ER,EAAAA,EAAAA,IAA8ES,EAAA,CAApEG,KAAK,WAAW,gBAAc,O,WAAgBR,EAAAA,UAAUS,S,qCAAVT,EAAAA,UAAUS,SAAQF,IAA1E,0B,OAEJX,EAAAA,EAAAA,IAA6Ec,EAAA,CAAlEF,KAAK,UAAUf,MAAM,YAAakB,QAAOC,EAAAA,WAApD,C,kBAA+D,IAAE,M,KAAjE,kB,KAhCJ,gB,mDA2CR,GACIC,KAAK,QACLC,QACI,MAAMC,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MACTC,EAAMJ,EAAMK,MAAMC,OAAOF,MACzBG,GAAOC,EAAAA,EAAAA,IAAS,CAClBC,UAAU,CACNlB,SAAS,GACTG,SAAS,IAEbgB,IAAIN,IAEFO,EAAU,MAGZC,EAAAA,EAAAA,IAASL,EAAKE,WAAWI,MAAKC,IACvBA,EAAIP,OACHQ,QAAQC,IAAIF,EAAIP,MAChBP,EAAMiB,OAAO,cAAcH,EAAIP,MAC/BW,aAAaC,QAAQ,YAAYC,KAAKC,UAAUP,EAAIP,OAEpDL,EAAOoB,KAAK,CACRC,KAAK,MAEb,GATJ,EAyBJ,MAAM,KACCC,EAAAA,EAAAA,IAAOjB,GACVI,YAER,G,QCpFR,MAAMc,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://shop/./src/views/pages/login.vue","webpack://shop/./src/views/pages/login.vue?f679"],"sourcesContent":["<template>\r\n    <div class=\"login_wrap\">\r\n        <div class=\"form_wrap\">\r\n            <el-form\r\n                ref=\"formRef\"\r\n                :model=\"loginData\"\r\n                label-width=\"100px\"\r\n                class=\"demo-dynamic\"\r\n            >\r\n                <el-form-item\r\n                    prop=\"username\"\r\n                    label=\"用户名\"\r\n                    :rules=\"[\r\n                        {\r\n                            required: true,\r\n                            message: '此项为必填项',\r\n                            trigger:blur\r\n                        },\r\n                    ]\"\r\n                >\r\n                    <el-input v-model=\"loginData.username\"/>\r\n                </el-form-item>\r\n                <el-form-item\r\n                    prop=\"password\"\r\n                    label=\"密码\"\r\n                    :rules=\"[\r\n                        {\r\n                            required: true,\r\n                            message: '此项为必填项',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ]\"\r\n                >\r\n                    <el-input type=\"password\" show-password=\"true\" v-model=\"loginData.password\" />\r\n                </el-form-item>\r\n                <el-button type=\"primary\" class=\"login_btn\" @click=\"handlogin\">登录</el-button>\r\n                <!-- <p>{{num}}</p> -->\r\n            </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {reactive, toRefs} from 'vue'\r\n    import {useStore} from \"vuex\"\r\n    import { useRouter } from 'vue-router'\r\n    import { loginApi } from \"@/util/request\"\r\n    export default {\r\n        name:'login',\r\n        setup(){\r\n            const store = useStore()\r\n            const router = useRouter()\r\n            const count=store.state.number.count\r\n            const data = reactive({\r\n                loginData:{\r\n                    username:'',\r\n                    password:''\r\n                },\r\n                num:count\r\n            })\r\n            const handlogin=()=>{\r\n                // 请求后台接口\r\n                // 默认用户：admin/123456\r\n                loginApi(data.loginData).then(res=>{\r\n                    if(res.data){\r\n                        console.log(res.data);\r\n                        store.commit('setUserInfo',res.data);\r\n                        localStorage.setItem(\"loginData\",JSON.stringify(res.data))\r\n                        // 跳转/user\r\n                        router.push({\r\n                            path:\"/\"\r\n                        })\r\n                    }\r\n                })\r\n                \r\n            }\r\n            // vuex更改语法\r\n            // console.log(\"修改前getters\",store.getters[\"number/countStatus\"])\r\n            // const handlogin=()=>{\r\n            //     // store.commit('number/setCount',100);\r\n            //     store.dispatch('number/setCountPromise',-101).then(res=>{\r\n            //         alert(\"修改成功\")\r\n            //     }).catch(err=>{\r\n            //         alert(err)\r\n            //     })\r\n            //     console.log(store.state.number.count)\r\n            //     console.log(\"修改后getters\",store.getters[\"number/countStatus\"]);\r\n            // }\r\n            return{\r\n                ...toRefs(data),\r\n                handlogin\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .login_wrap{\r\n        width: 100%;\r\n        height: 100vh;\r\n        background-color: rgb(115, 193, 217);\r\n        position:relative;\r\n    }\r\n    .form_wrap{\r\n        position: fixed;\r\n        top:50%;\r\n        left:50%;\r\n        transform:translate(-50%,-50%);\r\n        background:#fff;\r\n        padding:30px 50px;\r\n    }\r\n    .login_btn{\r\n        display:block;\r\n        margin:0px auto;\r\n\r\n    }\r\n</style>","import { render } from \"./login.vue?vue&type=template&id=3adf4f87\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=3adf4f87&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\ck\\\\Desktop\\\\vue3电商后台管理系统\\\\shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_createVNode","_component_el_form","ref","model","_ctx","_component_el_form_item","prop","label","rules","_component_el_input","username","$event","type","password","_component_el_button","onClick","$setup","name","setup","store","useStore","router","useRouter","count","state","number","data","reactive","loginData","num","handlogin","loginApi","then","res","console","log","commit","localStorage","setItem","JSON","stringify","push","path","toRefs","__exports__","render"],"sourceRoot":""}