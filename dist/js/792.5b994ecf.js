"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[792],{8792:function(e,l,o){o.r(l),o.d(l,{default:function(){return _}});var a=o(3396);const r=(0,a.Uk)("首页"),t=(0,a.Uk)("角色列表"),m={class:"page_content"},u=(0,a.Uk)("新建角色"),d=(0,a.Uk)("编辑"),i=(0,a.Uk)("删除"),s={class:"flex"},n=(0,a.Uk)("取消"),p=(0,a.Uk)("确定");function c(e,l,o,c,f,w){const b=(0,a.up)("el-breadcrumb-item"),D=(0,a.up)("el-breadcrumb"),W=(0,a.up)("el-button"),_=(0,a.up)("el-table-column"),k=(0,a.up)("el-table"),V=(0,a.up)("el-input"),g=(0,a.up)("el-form-item"),h=(0,a.up)("el-form"),F=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(D,{"separator-icon":e.ArrowRight},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{to:{path:"/index"}},{default:(0,a.w5)((()=>[r])),_:1}),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[t])),_:1})])),_:1},8,["separator-icon"]),(0,a._)("div",m,[(0,a.Wm)(W,{type:"primary",onClick:l[0]||(l[0]=l=>e.dialogFormVisible=!0)},{default:(0,a.w5)((()=>[u])),_:1}),(0,a.Wm)(k,{data:e.rolesList,style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{prop:"roleName",label:"角色名"}),(0,a.Wm)(_,{prop:"roleDesc",label:"角色描述"}),(0,a.Wm)(_,null,{default:(0,a.w5)((e=>[(0,a.Wm)(W,{type:"primary",onClick:l=>c.editRow(e.row)},{default:(0,a.w5)((()=>[d])),_:2},1032,["onClick"]),(0,a.Wm)(W,{type:"danger",onClick:l=>c.deleteRow(e.row)},{default:(0,a.w5)((()=>[i])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),(0,a.Wm)(F,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":l[4]||(l[4]=l=>e.dialogFormVisible=l),onClose:c.clearForm,title:e.formData.id?"编辑角色":"新建角色"},{footer:(0,a.w5)((()=>[(0,a._)("div",s,[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[n])),_:1}),(0,a.Wm)(W,{type:"primary",onClick:l[3]||(l[3]=e=>c.submitForm(c.userForm))},{default:(0,a.w5)((()=>[p])),_:1})])])),default:(0,a.w5)((()=>[(0,a.Wm)(h,{model:e.formData,rules:e.rules,ref:"userForm"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{label:"角色名称",prop:"roleName"},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{modelValue:e.formData.roleName,"onUpdate:modelValue":l[1]||(l[1]=l=>e.formData.roleName=l),placeholder:"请输入角色名称"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(g,{label:"角色描述",prop:"roleDesc"},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{modelValue:e.formData.roleDesc,"onUpdate:modelValue":l[2]||(l[2]=l=>e.formData.roleDesc=l),placeholder:"请输入角色描述"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","onClose","title"])])}var f=o(4870),w=o(9818),b={name:"roles",setup(){const e=(0,f.qj)({rolesList:[],dialogFormVisible:!1,formData:{roleName:"",roleDesc:""},rules:{roleName:{required:!0,message:"此项必填",trigger:"blur"}}}),l=()=>{(0,w.G_)().then((l=>{e.rolesList=l.data}))},o=o=>{o.validate((o=>{o&&(e.formData.id?(0,w.uE)(e.formData).then((o=>{o.data&&(e.dialogFormVisible=!1,l())})):(0,w.wV)(e.formData).then((o=>{o.data&&(e.dialogFormVisible=!1,l())})))}))},a=l=>{e.dialogFormVisible=!0;const{roleName:o,roleDesc:a,id:r}=l;e.formData={id:r,roleName:o,roleDesc:a}},r=e=>{(0,w.KW)(e).then((e=>{l()}))},t=()=>{e.formData={roleName:"",roleDesc:""}},m=(0,f.iH)();return l(),{...(0,f.BK)(e),editRow:a,deleteRow:r,userForm:m,submitForm:o,clearForm:t}}},D=o(89);const W=(0,D.Z)(b,[["render",c]]);var _=W}}]);
//# sourceMappingURL=792.5b994ecf.js.map